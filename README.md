# è‚¡ç¥¨å¸‚åœºç›‘æ§ç³»ç»Ÿ (Stock Market Monitor)

ä¸€ä¸ªåŸºäºSpring Bootå’ŒAKShareçš„æ™ºèƒ½è´¢åŠ¡åˆ†æç³»ç»Ÿï¼Œæä¾›Aè‚¡å’Œæ¸¯è‚¡çš„è´¢åŠ¡æ•°æ®åˆ†æã€è¯„ä¼°å’Œå¯è§†åŒ–å±•ç¤ºã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### ğŸ“Š è´¢åŠ¡åˆ†æ
- **Aè‚¡åˆ†æ**: èµ„äº§è´Ÿå€ºè¡¨ã€åˆ©æ¶¦è¡¨ã€ç°é‡‘æµé‡è¡¨ã€è´¢åŠ¡æ¯”ç‡ç­‰
- **æ¸¯è‚¡åˆ†æ**: ç»¼åˆè´¢åŠ¡æŠ¥å‘Šã€è´¢åŠ¡ç»“æ„åˆ†æ
- **æ•°æ®å¯è§†åŒ–**: åŸºäºEChartsçš„äº¤äº’å¼å›¾è¡¨å±•ç¤º
- **æ‰¹é‡åˆ†æ**: æ”¯æŒå¤šè‚¡ç¥¨æ‰¹é‡è´¢åŠ¡åˆ†æ

### ğŸ” æ•°æ®å±•ç¤º
- **æŒ‰æŠ¥å‘ŠæœŸå±•ç¤º**: æ”¯æŒå­£åº¦ã€åŠå¹´åº¦ã€å¹´åº¦æ•°æ®å±•ç¤º
- **æŒ‰å¹´åº¦å±•ç¤º**: è‡ªåŠ¨èšåˆå­£åº¦æ•°æ®ä¸ºå¹´åº¦æ•°æ®
- **æ™ºèƒ½åˆ‡æ¢**: å‰ç«¯å¼€å…³æ§åˆ¶æ•°æ®å±•ç¤ºæ¨¡å¼
- **å®æ—¶æ•°æ®**: é€šè¿‡AKShare APIè·å–æœ€æ–°è´¢åŠ¡æ•°æ®

### ğŸ’¡ æ™ºèƒ½è¯„ä¼°
- **ç»¼åˆè¯„åˆ†**: åŸºäºè´¢åŠ¡æŒ‡æ ‡çš„ç»¼åˆè¯„ä¼°ä½“ç³»
- **ROEåˆ†æ**: å‡€èµ„äº§æ”¶ç›Šç‡åˆ†æ
- **PE-TTM**: æ»šåŠ¨å¸‚ç›ˆç‡åˆ†æ
- **è¶‹åŠ¿åˆ†æ**: å†å²æ•°æ®è¶‹åŠ¿å¯è§†åŒ–

### â­ è‡ªé€‰è‚¡ç®¡ç†
- **è§‚å¯Ÿè‚¡ç®¡ç†**: æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹è§‚å¯Ÿè‚¡
- **æŒä»“è‚¡ç®¡ç†**: è®¾ç½®å’Œç®¡ç†æŒä»“è‚¡
- **è´¢åŠ¡æ•°æ®è¿½è¸ª**: è‡ªåŠ¨ä¿å­˜åˆ†æè¿‡çš„è‚¡ç¥¨è´¢åŠ¡æ•°æ®
- **æ™ºèƒ½æ’åº**: æŒ‰å¸‚ç›ˆç‡å¾—åˆ†æ’åºï¼Œä¼˜å…ˆæ˜¾ç¤ºé«˜ä»·å€¼è‚¡ç¥¨

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **Java 17+**
- **Spring Boot 3.x**
- **Maven**
- **MyBatis**: æ•°æ®æŒä¹…åŒ–æ¡†æ¶
- **MySQL**: å…³ç³»å‹æ•°æ®åº“
- **AKShare API**: é‡‘èæ•°æ®æ¥å£

### å‰ç«¯
- **HTML5 + CSS3**
- **JavaScript (ES6+)**
- **ECharts**: æ•°æ®å¯è§†åŒ–å›¾è¡¨åº“
- **å“åº”å¼è®¾è®¡**: æ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯

### æ•°æ®æº
- **åŒèŠ±é¡º**: Aè‚¡è´¢åŠ¡æ•°æ®
- **ä¸œæ–¹è´¢å¯Œ**: æ¸¯è‚¡è´¢åŠ¡æ•°æ®
- **å®æ—¶API**: è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- Java 17 æˆ–æ›´é«˜ç‰ˆæœ¬
- Maven 3.6+
- MySQL 8.0+ æˆ– MariaDB 10.5+
- ç½‘ç»œè¿æ¥ (ç”¨äºè®¿é—®AKShare API)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/JCYoky/stock-market-monitor.git
cd stock-market-monitor
```

### 2. æ•°æ®åº“é…ç½®

#### åˆ›å»ºæ•°æ®åº“
```sql
CREATE DATABASE `stock-market-monitor` CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

#### æ‰§è¡Œæ•°æ®åº“è¡¨ç»“æ„
```sql
-- è‡ªé€‰è‚¡è¡¨
CREATE TABLE `stock_watchlist` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `stock_code` varchar(20) NOT NULL COMMENT 'è‚¡ç¥¨ä»£ç ',
  `stock_name` varchar(100) NOT NULL COMMENT 'è‚¡ç¥¨åç§°',
  `stock_type` int NOT NULL DEFAULT '0' COMMENT 'è‚¡ç¥¨ç±»å‹ï¼š0-ç³»ç»Ÿæ·»åŠ ï¼Œ1-è§‚å¯Ÿè‚¡ï¼Œ2-æŒä»“è‚¡',
  `pe_ttm` decimal(10,2) DEFAULT '0.00' COMMENT 'å¸‚ç›ˆç‡TTM',
  `roe` decimal(10,2) DEFAULT '0.00' COMMENT 'å‡€èµ„äº§æ”¶ç›Šç‡',
  `profit_quality` decimal(10,4) DEFAULT '0.0000' COMMENT 'åˆ©æ¶¦è´¨é‡',
  `assets_quality` decimal(10,4) DEFAULT '0.0000' COMMENT 'èµ„äº§è´¨é‡å¾—åˆ†',
  `pe_score` decimal(10,4) DEFAULT '0.0000' COMMENT 'å¸‚ç›ˆç‡å¾—åˆ†',
  `created_time` varchar(20) DEFAULT NULL COMMENT 'åˆ›å»ºæ—¶é—´',
  `updated_time` varchar(20) DEFAULT NULL COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_stock_code` (`stock_code`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='è‡ªé€‰è‚¡è¡¨';
```

### 3. é…ç½®æ•°æ®åº“è¿æ¥

ç¼–è¾‘ `src/main/resources/application.properties`:
```properties
# æ•°æ®åº“é…ç½®
spring.datasource.url=jdbc:mysql://localhost:3306/stock-market-monitor?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
spring.datasource.username=your_username
spring.datasource.password=your_password
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# MyBatisé…ç½®
mybatis.mapper-locations=classpath:mapper/*.xml
mybatis.type-aliases-package=me.huangjiacheng.hundun.model
mybatis.configuration.map-underscore-to-camel-case=true

# æœåŠ¡å™¨ç«¯å£
server.port=8888
```

### 4. AKShareæœ¬åœ°éƒ¨ç½²

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨Dockerï¼ˆæ¨èï¼‰
```bash
# æ‹‰å–AKShareé•œåƒ
docker pull akfamily/akshare:latest

# è¿è¡ŒAKShareæœåŠ¡
docker run -d --name akshare -p 8080:8080 akfamily/akshare:latest

# éªŒè¯æœåŠ¡
curl http://localhost:8080/api/public/stock_basic_info_em?symbol=000001
```

#### æ–¹å¼äºŒï¼šæœ¬åœ°Pythonç¯å¢ƒ
```bash
# å®‰è£…Python 3.8+
pip install akshare

# å¯åŠ¨AKShareæœåŠ¡
akshare run --host 0.0.0.0 --port 8080
```

#### æ–¹å¼ä¸‰ï¼šä½¿ç”¨é¢„æ„å»ºçš„JARåŒ…
```bash
# ä¸‹è½½AKShare JARåŒ…
wget https://github.com/akfamily/akshare/releases/download/v1.12.0/akshare-1.12.0.jar

# è¿è¡ŒæœåŠ¡
java -jar akshare-1.12.0.jar --server.port=8080
```

### 5. ç¼–è¯‘é¡¹ç›®
```bash
mvn clean compile
```

### 6. è¿è¡Œåº”ç”¨
```bash
mvn spring-boot:run
```

åº”ç”¨å¯åŠ¨åï¼Œè®¿é—® `http://localhost:8888` å³å¯ä½¿ç”¨ã€‚

## ğŸ“– ä½¿ç”¨è¯´æ˜

### Aè‚¡åˆ†æ
1. åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥Aè‚¡ä»£ç  (å¦‚: 600519)
2. ç‚¹å‡»"å¼€å§‹åˆ†æ"æŒ‰é’®
3. ç³»ç»Ÿå°†è‡ªåŠ¨è·å–å¹¶åˆ†æè´¢åŠ¡æ•°æ®
4. æŸ¥çœ‹å„ç±»è´¢åŠ¡å›¾è¡¨å’Œåˆ†æç»“æœ

### æ¸¯è‚¡åˆ†æ
1. åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥æ¸¯è‚¡ä»£ç  (å¦‚: 00700)
2. ç‚¹å‡»"å¼€å§‹åˆ†æ"æŒ‰é’®
3. ç³»ç»Ÿå°†è·å–æ¸¯è‚¡è´¢åŠ¡æŠ¥å‘Šæ•°æ®
4. æŸ¥çœ‹è´¢åŠ¡ç»“æ„åˆ†æå›¾è¡¨

### è‡ªé€‰è‚¡ç®¡ç†
1. ç‚¹å‡»å³ä¸Šè§’"è‡ªé€‰è‚¡"æŒ‰é’®æŸ¥çœ‹è‡ªé€‰è‚¡åˆ—è¡¨
2. åˆ†æè‚¡ç¥¨åï¼Œç‚¹å‡»"åŠ è§‚å¯Ÿè‚¡"æˆ–"è®¾ä¸ºæŒä»“è‚¡"
3. åœ¨è‡ªé€‰è‚¡åˆ—è¡¨ä¸­ç‚¹å‡»"æŸ¥çœ‹è¯¦æƒ…"é‡æ–°åˆ†æè‚¡ç¥¨
4. ç³»ç»Ÿè‡ªåŠ¨ä¿å­˜åˆ†æè¿‡çš„è‚¡ç¥¨è´¢åŠ¡æ•°æ®

### æ•°æ®å±•ç¤ºæ¨¡å¼
- **æŒ‰æŠ¥å‘ŠæœŸ**: æ˜¾ç¤ºæ‰€æœ‰æŠ¥å‘ŠæœŸæ•°æ® (é»˜è®¤)
- **æŒ‰å¹´åº¦**: è‡ªåŠ¨èšåˆä¸ºå¹´åº¦æ•°æ®å±•ç¤º
- ä½¿ç”¨é¡µé¢å·¦ä¾§å¼€å…³è¿›è¡Œæ¨¡å¼åˆ‡æ¢

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
stock-market-monitor/
â”œâ”€â”€ src/main/java/me/huangjiacheng/hundun/
â”‚   â”œâ”€â”€ controller/          # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”œâ”€â”€ AnalysisApiController.java      # APIæ¥å£
â”‚   â”‚   â”œâ”€â”€ AnalysisPageController.java     # é¡µé¢æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ BatchAnalysisApiController.java # æ‰¹é‡åˆ†ææ¥å£
â”‚   â”‚   â””â”€â”€ StockWatchlistController.java   # è‡ªé€‰è‚¡ç®¡ç†æ¥å£
â”‚   â”œâ”€â”€ model/               # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ Evaluation.java                 # è¯„ä¼°ç»“æœæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ StockInfo.java                  # è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯
â”‚   â”‚   â”œâ”€â”€ StockWatchlist.java            # è‡ªé€‰è‚¡æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ StockFinancialDebtThs.java     # Aè‚¡è´Ÿå€ºè¡¨
â”‚   â”‚   â”œâ”€â”€ StockFinancialHkBalanceSheet.java # æ¸¯è‚¡èµ„äº§è´Ÿå€ºè¡¨
â”‚   â”‚   â””â”€â”€ ...                            # å…¶ä»–è´¢åŠ¡æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ mapper/              # MyBatisæ˜ å°„å™¨
â”‚   â”‚   â””â”€â”€ StockWatchlistMapper.java      # è‡ªé€‰è‚¡æ•°æ®è®¿é—®
â”‚   â”œâ”€â”€ service/             # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ AKShareService.java            # AKShareæ•°æ®æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ FinancialAnalysisService.java  # è´¢åŠ¡åˆ†ææœåŠ¡
â”‚   â”‚   â”œâ”€â”€ BatchAnalysisService.java      # æ‰¹é‡åˆ†ææœåŠ¡
â”‚   â”‚   â”œâ”€â”€ StockWatchlistService.java     # è‡ªé€‰è‚¡æœåŠ¡
â”‚   â”‚   â””â”€â”€ PersistenceService.java        # æ•°æ®æŒä¹…åŒ–æœåŠ¡
â”‚   â””â”€â”€ HundunApplication.java             # ä¸»åº”ç”¨ç±»
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ static/
â”‚   â”‚   â””â”€â”€ zxm-analysis.html              # å‰ç«¯é¡µé¢
â”‚   â”œâ”€â”€ mapper/
â”‚   â”‚   â””â”€â”€ StockWatchlistMapper.xml       # MyBatis XMLæ˜ å°„
â”‚   â””â”€â”€ application.properties              # åº”ç”¨é…ç½®
â”œâ”€â”€ pom.xml                                 # Mavené…ç½®
â””â”€â”€ README.md                               # é¡¹ç›®è¯´æ˜
```

## ğŸ”§ é…ç½®è¯´æ˜

### æ•°æ®åº“é…ç½®
```properties
# MySQLæ•°æ®åº“è¿æ¥
spring.datasource.url=jdbc:mysql://localhost:3306/stock-market-monitor?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
spring.datasource.username=your_username
spring.datasource.password=your_password

# MyBatisé…ç½®
mybatis.mapper-locations=classpath:mapper/*.xml
mybatis.type-aliases-package=me.huangjiacheng.hundun.model
mybatis.configuration.map-underscore-to-camel-case=true
```

### AKShareé…ç½®
```properties
# AKShareæœåŠ¡åœ°å€
akshare.base-url=http://localhost:8080/api/public
akshare.timeout=30000
```

## ğŸ“Š APIæ¥å£

### è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯
- `GET /api/public/stock_basic_info_em?symbol={code}` - è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯

### Aè‚¡è´¢åŠ¡æ•°æ®
- `GET /api/public/stock_financial_debt_ths?symbol={code}` - èµ„äº§è´Ÿå€ºè¡¨
- `GET /api/public/stock_financial_benefit_ths?symbol={code}` - åˆ©æ¶¦è¡¨
- `GET /api/public/stock_financial_cash_ths?symbol={code}` - ç°é‡‘æµé‡è¡¨

### æ¸¯è‚¡è´¢åŠ¡æ•°æ®
- `GET /api/public/stock_financial_hk_report_em?symbol={code}` - ç»¼åˆè´¢åŠ¡æŠ¥å‘Š

### è‡ªé€‰è‚¡ç®¡ç†
- `POST /api/watchlist/add` - æ·»åŠ /æ›´æ–°è‡ªé€‰è‚¡
- `DELETE /api/watchlist/delete/{stockCode}` - åˆ é™¤è‡ªé€‰è‚¡
- `GET /api/watchlist/all` - è·å–æ‰€æœ‰è‡ªé€‰è‚¡
- `GET /api/watchlist/stock/{stockCode}` - æŸ¥è¯¢ç‰¹å®šè‚¡ç¥¨

### æ‰¹é‡åˆ†æ
- `POST /api/public/batch_analysis` - æ‰¹é‡è´¢åŠ¡åˆ†æ

## ğŸ› å¸¸è§é—®é¢˜

### æ•°æ®åº“è¿æ¥å¤±è´¥
- æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨
- éªŒè¯æ•°æ®åº“ç”¨æˆ·åå’Œå¯†ç 
- ç¡®è®¤æ•°æ®åº“åç§°æ˜¯å¦æ­£ç¡®

### AKShareæœåŠ¡æ— æ³•è®¿é—®
- æ£€æŸ¥AKShareæœåŠ¡æ˜¯å¦å¯åŠ¨åœ¨8080ç«¯å£
- éªŒè¯é˜²ç«å¢™è®¾ç½®
- å°è¯•ä½¿ç”¨Dockeræ–¹å¼éƒ¨ç½²

### è‡ªé€‰è‚¡æ•°æ®ä¸æ˜¾ç¤º
- æ£€æŸ¥æ•°æ®åº“è¡¨ç»“æ„æ˜¯å¦æ­£ç¡®
- ç¡®è®¤MyBatisæ˜ å°„æ–‡ä»¶è·¯å¾„
- æŸ¥çœ‹åº”ç”¨æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.1.0 (2024-12-19)
- âœ¨ æ–°å¢è‡ªé€‰è‚¡ç®¡ç†åŠŸèƒ½
- ğŸ¯ æ”¯æŒè§‚å¯Ÿè‚¡å’ŒæŒä»“è‚¡åˆ†ç±»
- ğŸ“Š è‡ªåŠ¨ä¿å­˜åˆ†æè¿‡çš„è‚¡ç¥¨è´¢åŠ¡æ•°æ®
- ğŸ”„ ä¼˜åŒ–è‡ªé€‰è‚¡åˆ—è¡¨æ’åºå’Œæ˜¾ç¤º
- ğŸ¨ ç¾åŒ–UIç•Œé¢ï¼Œä½¿ç”¨ç°ä»£åŒ–è®¾è®¡

### v1.0.0 (2024-12-19)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ¯ æ”¯æŒAè‚¡å’Œæ¸¯è‚¡è´¢åŠ¡åˆ†æ
- ğŸ“Š é›†æˆEChartså›¾è¡¨å±•ç¤º
- ğŸ”„ æ”¯æŒæŒ‰æŠ¥å‘ŠæœŸ/å¹´åº¦æ•°æ®å±•ç¤º
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

## ğŸ™ è‡´è°¢

- [AKShare](https://github.com/akfamily/akshare) - é‡‘èæ•°æ®æ¥å£
- [ECharts](https://echarts.apache.org/) - æ•°æ®å¯è§†åŒ–åº“
- [Spring Boot](https://spring.io/projects/spring-boot) - Javaåº”ç”¨æ¡†æ¶
- [MyBatis](https://mybatis.org/) - æ•°æ®æŒä¹…åŒ–æ¡†æ¶

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ç»´æŠ¤è€…: [æ‚¨çš„å§“å]
- é‚®ç®±: [æ‚¨çš„é‚®ç®±]
- é¡¹ç›®åœ°å€: [GitHubä»“åº“åœ°å€]

## âš ï¸ å…è´£å£°æ˜

æœ¬ç³»ç»Ÿä»…ç”¨äºå­¦ä¹ å’Œç ”ç©¶ç›®çš„ï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚æŠ•èµ„æœ‰é£é™©ï¼Œå…¥å¸‚éœ€è°¨æ…ã€‚ä½¿ç”¨è€…åº”è‡ªè¡Œæ‰¿æ‹…ä½¿ç”¨æœ¬ç³»ç»Ÿè¿›è¡ŒæŠ•èµ„å†³ç­–çš„é£é™©ã€‚

---

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ Star æ”¯æŒä¸€ä¸‹ï¼
